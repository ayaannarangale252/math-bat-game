// Start with 3 hearts
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    dragon.y -= 10;
animation.runImageAnimation(
    dragon,
    [img`
        . . f f f . . . . . . . . f f f 
        . f f c c . . . . . . f c b b c 
        f f c c . . . . . . f c b b c . 
        f c f c . . . . . . f b c c c . 
        f f f c c . c c . f c b b c c . 
        f f c 3 c c 3 c c f b c b b c . 
        f f b 3 b c 3 b c f b c c b c . 
        . c b b b b b b c b b c c c . . 
        . c 1 b b b 1 b b c c c c . . . 
        c b b b b b b b b b c c . . . . 
        c b c b b b c b b b b f . . . . 
        f b 1 f f f 1 b b b b f c . . . 
        f b b b b b b b b b b f c c . . 
        . f b b b b b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `,img`
        . . f f f . . . . . . . . . . . 
        f f f c c . . . . . . . . f f f 
        f f c c . . c c . . . f c b b c 
        f f c 3 c c 3 c c f f b b b c . 
        f f b 3 b c 3 b c f b b c c c . 
        . c b b b b b b c f b c b c c . 
        . c b b b b b b c b b c b b c . 
        c b 1 b b b 1 b b b c c c b c . 
        c b b b b b b b b c c c c c . . 
        f b c b b b c b b b b f c . . . 
        f b 1 f f f 1 b b b b f c c . . 
        . f b b b b b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . c c . . c c . . . . . . . . 
        . . c 3 c c 3 c c c . . . . . . 
        . c b 3 b c 3 b c c c . . . . . 
        . c b b b b b b b b f f . . . . 
        c c b b b b b b b b f f . . . . 
        c b 1 b b b 1 b b c f f f . . . 
        c b b b b b b b b f f f f . . . 
        f b c b b b c b c c b b b . . . 
        f b 1 f f f 1 b f c c c c . . . 
        . f b b b b b b f b b c c . . . 
        c c f b b b b b c c b b c . . . 
        c c c f f f f f f c c b b c . . 
        . c c c . . . . . . c c c c c . 
        . . c c c . . . . . . . c c c c 
        . . . . . . . . . . . . . . . . 
        `],
    100,
    true
    )
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    dragon.x -= 10;
animation.runImageAnimation(
    dragon,
    [img`
        . . f f f . . . . . . . . f f f 
        . f f c c . . . . . . f c b b c 
        f f c c . . . . . . f c b b c . 
        f c f c . . . . . . f b c c c . 
        f f f c c . c c . f c b b c c . 
        f f c 3 c c 3 c c f b c b b c . 
        f f b 3 b c 3 b c f b c c b c . 
        . c b b b b b b c b b c c c . . 
        . c 1 b b b 1 b b c c c c . . . 
        c b b b b b b b b b c c . . . . 
        c b c b b b c b b b b f . . . . 
        f b 1 f f f 1 b b b b f c . . . 
        f b b b b b b b b b b f c c . . 
        . f b b b b b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `,img`
        . . f f f . . . . . . . . . . . 
        f f f c c . . . . . . . . f f f 
        f f c c . . c c . . . f c b b c 
        f f c 3 c c 3 c c f f b b b c . 
        f f b 3 b c 3 b c f b b c c c . 
        . c b b b b b b c f b c b c c . 
        . c b b b b b b c b b c b b c . 
        c b 1 b b b 1 b b b c c c b c . 
        c b b b b b b b b c c c c c . . 
        f b c b b b c b b b b f c . . . 
        f b 1 f f f 1 b b b b f c c . . 
        . f b b b b b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . c c . . c c . . . . . . . . 
        . . c 3 c c 3 c c c . . . . . . 
        . c b 3 b c 3 b c c c . . . . . 
        . c b b b b b b b b f f . . . . 
        c c b b b b b b b b f f . . . . 
        c b 1 b b b 1 b b c f f f . . . 
        c b b b b b b b b f f f f . . . 
        f b c b b b c b c c b b b . . . 
        f b 1 f f f 1 b f c c c c . . . 
        . f b b b b b b f b b c c . . . 
        c c f b b b b b c c b b c . . . 
        c c c f f f f f f c c b b c . . 
        . c c c . . . . . . c c c c c . 
        . . c c c . . . . . . . c c c c 
        . . . . . . . . . . . . . . . . 
        `,img`
        . f f f . . . . . . . . f f f . 
        f f c . . . . . . . f c b b c . 
        f c c . . . . . . f c b b c . . 
        c f . . . . . . . f b c c c . . 
        c f f . . . . . f f b b c c . . 
        f f f c c . c c f b c b b c . . 
        f f f c c c c c f b c c b c . . 
        . f c 3 c c 3 b c b c c c . . . 
        . c b 3 b c 3 b b c c c c . . . 
        c c b b b b b b b b c c . . . . 
        c b 1 b b b 1 b b b b f c . . . 
        f b b b b b b b b b b f c c . . 
        f b c b b b c b b b b f . . . . 
        . f 1 f f f 1 b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `],
    100,
    false
    )
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    // Move the dragon right by 10 pixels
    dragon.x += 10
    animation.runImageAnimation(
    dragon,
    [img`
        f f f . . . . . . . . f f f . . 
        c b b c f . . . . . . c c f f . 
        . c b b c f . . . . . . c c f f 
        . c c c b f . . . . . . c f c f 
        . c c b b c f . c c . c c f f f 
        . c b b c b f c c 3 c c 3 c f f 
        . c b c c b f c b 3 c b 3 b f f 
        . . c c c b b c b b b b b b c . 
        . . . c c c c b b 1 b b b 1 c . 
        . . . . c c b b b b b b b b b c 
        . . . . f b b b b c b b b c b c 
        . . . c f b b b b 1 f f f 1 b f 
        . . c c f b b b b b b b b b b f 
        . . . . f c b b b b b b b b f . 
        . . . . . f c b b b b b b f . . 
        . . . . . . f f f f f f f . . . 
        `,img`
        . . . . . . . . . . . f f f . . 
        f f f . . . . . . . . c c f f f 
        c b b c f . . . c c . . c c f f 
        . c b b b f f c c 3 c c 3 c f f 
        . c c c b b f c b 3 c b 3 b f f 
        . c c b c b f c b b b b b b c . 
        . c b b c b b c b b b b b b c . 
        . c b c c c b b b 1 b b b 1 b c 
        . . c c c c c b b b b b b b b c 
        . . . c f b b b b c b b b c b f 
        . . c c f b b b b 1 f f f 1 b f 
        . . . . f c b b b b b b b b f . 
        . . . . . f c b b b b b b f . . 
        . . . . . . f f f f f f f . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . c c . . c c . . 
        . . . . . . c c c 3 c c 3 c . . 
        . . . . . c c c b 3 c b 3 b c . 
        . . . . f f b b b b b b b b c . 
        . . . . f f b b b b b b b b c c 
        . . . f f f c b b 1 b b b 1 b c 
        . . . f f f f b b b b b b b b c 
        . . . b b b c c b c b b b c b f 
        . . . c c c c f b 1 f f f 1 b f 
        . . . c c b b f b b b b b b f . 
        . . . c b b c c b b b b b f c c 
        . . c b b c c f f f f f f c c c 
        . c c c c c . . . . . . c c c . 
        c c c c . . . . . . . c c c . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . f f f . . . . . . . . f f f . 
        . c b b c f . . . . . . . c f f 
        . . c b b c f . . . . . . c c f 
        . . c c c b f . . . . . . . f c 
        . . c c b b f f . . . . . f f c 
        . . c b b c b f c c . c c f f f 
        . . c b c c b f c c c c c f f f 
        . . . c c c b c b 3 c c 3 c f . 
        . . . c c c c b b 3 c b 3 b c . 
        . . . . c c b b b b b b b b c c 
        . . . c f b b b b 1 b b b 1 b c 
        . . c c f b b b b b b b b b b f 
        . . . . f b b b b c b b b c b f 
        . . . . f c b b b 1 f f f 1 f . 
        . . . . . f c b b b b b b f . . 
        . . . . . . f f f f f f f . . . 
        `],
    100,
    true
    )
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    dragon,
    [img`
        f f f . . . . . . . . f f f . . 
        c b b c f . . . . . . c c f f . 
        . c b b c f . . . . . . c c f f 
        . c c c b f . . . . . . c f c f 
        . c c b b c f . c c . c c f f f 
        . c b b c b f c c 3 c c 3 c f f 
        . c b c c b f c b 3 c b 3 b f f 
        . . c c c b b c b b b b b b c . 
        . . . c c c c b b 1 b b b 1 c . 
        . . . . c c b b b b b b b b b c 
        . . . . f b b b b c b b b c b c 
        . . . c f b b b b 1 f f f 1 b f 
        . . c c f b b b b b b b b b b f 
        . . . . f c b b b b b b b b f . 
        . . . . . f c b b b b b b f . . 
        . . . . . . f f f f f f f . . . 
        `,img`
        . . . . . . . . . . . f f f . . 
        f f f . . . . . . . . c c f f f 
        c b b c f . . . c c . . c c f f 
        . c b b b f f c c 3 c c 3 c f f 
        . c c c b b f c b 3 c b 3 b f f 
        . c c b c b f c b b b b b b c . 
        . c b b c b b c b b b b b b c . 
        . c b c c c b b b 1 b b b 1 b c 
        . . c c c c c b b b b b b b b c 
        . . . c f b b b b c b b b c b f 
        . . c c f b b b b 1 f f f 1 b f 
        . . . . f c b b b b b b b b f . 
        . . . . . f c b b b b b b f . . 
        . . . . . . f f f f f f f . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . c c . . c c . . 
        . . . . . . c c c 3 c c 3 c . . 
        . . . . . c c c b 3 c b 3 b c . 
        . . . . f f b b b b b b b b c . 
        . . . . f f b b b b b b b b c c 
        . . . f f f c b b 1 b b b 1 b c 
        . . . f f f f b b b b b b b b c 
        . . . b b b c c b c b b b c b f 
        . . . c c c c f b 1 f f f 1 b f 
        . . . c c b b f b b b b b b f . 
        . . . c b b c c b b b b b f c c 
        . . c b b c c f f f f f f c c c 
        . c c c c c . . . . . . c c c . 
        c c c c . . . . . . . c c c . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . f f f . . . . . . . . f f f . 
        . c b b c f . . . . . . . c f f 
        . . c b b c f . . . . . . c c f 
        . . c c c b f . . . . . . . f c 
        . . c c b b f f . . . . . f f c 
        . . c b b c b f c c . c c f f f 
        . . c b c c b f c c c c c f f f 
        . . . c c c b c b 3 c c 3 c f . 
        . . . c c c c b b 3 c b 3 b c . 
        . . . . c c b b b b b b b b c c 
        . . . c f b b b b 1 b b b 1 b c 
        . . c c f b b b b b b b b b b f 
        . . . . f b b b b c b b b c b f 
        . . . . f c b b b 1 f f f 1 f . 
        . . . . . f c b b b b b b f . . 
        . . . . . . f f f f f f f . . . 
        `],
    100,
    true
    )
    // Move the dragon down by 10 pixels
    dragon.y += 10
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    applesCollected += 1
    info.changeScoreBy(1)
    // Destroy the apple after collection
    otherSprite.destroy()
    if (applesCollected % 20 == 0) {
        // Every 10 apples, give a heart
        info.changeLifeBy(1)
        game.splash("You earned a heart!")
    }
})
let playerAnswer = 0
let correctAnswer = 0
let operation = 0
let num2 = 0
let num1 = 0
let apple: Sprite = null
let applesCollected = 0
let dragon: Sprite = null
effects.clouds.startScreenEffect()
game.splash("Welcome to ", "Math-Bat Game")
game.splash("Move George(Bat)", "in different directions")
game.splash("To eat the apples")
game.splash("You need to eat 200 apples", "to win the game")
game.splash("Beware, you only have 3 lives ", "but you can get more by eating apples")
game.splash("Solve math questions", "to continue on your journey")
game.splash("But if you get it wrong", "YOU LOSE A HEART")
info.setScore(0)
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999991111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999111111111111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999991111111111111111111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999111111111111111111111111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999991111111111111111111111111111111111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999991111111111111111111111111111111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999911111111111111111111111111111111111111111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999111111111111111111111111111111111111111111111111111111111111999999999999999991111999999999999999999999999999999999999999999999999999999999
    9999999999999999999999111111111111111111111111111111111111111111111111111111111111119999999999999991111111999999999999999999999999999999999999999999999999999999
    9999999999999999999999111111111111111111111111111111111111111111111111111111111111119999999999999991111111111111999999999999999999999999999999999999999999999999
    9999999999999999999999991111111111111111111111111111111111111111111111111111111111111199999999999999111111111111199999999999999999999999999999999999999999999999
    9999999999999999999999999999911111111111111111111111111111111111111111111111111111111119999999999999991111111111199999999999999999999999999999999999999999999999
    9999999999999999999999999999999911111111111111111111111111111111111111111111111111111119999999999999999111111111199999999999999999999999999999999999999999999999
    9999999999999999999999999999999911111111111111111111111111111111111111111111111111111111999999999999999911111111199999999999999999999999999999999999999999999999
    9999999999999999999999999999999911111111111111111111111111111111111111111111111111111111999999999999999991111111999999999999999999999999999999999999999999999999
    9999999999999999999999999999999911111111111111111111111111111111111111111111111111111111199999999999999991111111999999999999999999999999999999999999999999999999
    9999999999999999999999999999999991111111111111111111111111111111111111111111111111111111199999999999999991111119999999999999999999999999999999999999999999999999
    9999999999999999999999999999999991111111111111111119999999911111111111111111111111111111199999999999999999911119999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999191111111111199999999999999111111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999911111119999999999999999991111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999991111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999911111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999111111111111119999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999911111111111999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999911199999999999999999999999999999999999999999999999999999999911111199999999999999999999999999999999999991119999999999999999999999999999999999999
    9999999999999999911119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111119999999999999999999999999999999999
    9999999999999999111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111199999999999999999999999999999999
    9999999999999991111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111199999999999999999999999999999
    9999999999999991111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111111999999999999999999999999999
    9999999999999911111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111111199999999999999999999999999
    9999999999999111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111119999999999999999999999999
    9999999999991111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111999999999999999999999999
    9999999999991111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111999999999999999999999999
    9999999999911111111111111119999999999999999999999999999999999999999111119999999999999999999999999999999999999999999911111111111111111111999999999999999999999999
    9999999991111111111111111119999999999999999999999999999999999999991111119999999999999999999999999999999999999999999911111111111111111111999999999999999999999999
    9999999911111111111111111119999999999999999999999999999999999999911111119999999999999999999999999999999999999999991111111111111111111111999999999999999999999999
    9999999911111111111111111119999999999999999999999999999999999999111111119999999999999999999999999999999991111111111111111111111111111111999999999999999999999999
    9999999111111111111111111119999999999999999999999999999999999999111111119999999999999999999999999999999991111111111111111111111111111111999999999999999999999999
    9999999111111111111111111119999999999999999999999999999999999999111111999999999999999999999999999999999991111111111111111111111111111111999999999999999999999999
    9999999111111111111111111119999999999999999999999999999999999999111111999999999999999999999999999999999991111111111111111111111111111119999999999999999999999999
    9999999111111111111111111119999999999999999999999999999999999999111119999999999999999999999999999999999999111111111111111111111111111119999999999999999999999999
    9999991111111111111111111119999999999999999999999999999999999911111119999999999999999999999999999999999999111111111111111111111111111119999999999999999999999999
    9999991111111111111111111199999999999999999999999999999999999911111119999999999999999999999999999999999999111111111111191111111111111199999999999999999999999999
    9999991111111111111111111199999999999999999999999999999999999911111119999999999999999999999999999999999999911111111119999111111111111999999999999999999999999999
    9999991111111111111111111999999999999999999999999999999999999911111119999999999999999999999999999999999999999911111199999991111111119999999999999999999999999999
    9999999111111111111111111999999999999999999999999999999999999911111119999999999999999999999999999999999999999999999999999999111111199999999999999999999999999999
    9999999991111111111111111999999999999999999999999999999999999911111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999911111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999199111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999991111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999991111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991199999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911119999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111199999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111119999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999111199999999999999999999999999999999999999991111111111199999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999991111119999999999999999999999999999999999999911111111111119999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999111111111999999999999999999999999911119999999111111111111111999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999991111111111199999999999999999999999111111199991111111111111111999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999991111111111119999999999999999999911111111119991111111111111111111199999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999911111111111111999999999999999991111111111111111111111111111111111111999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111199999999999999991111111111111111111111111111111111111199999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111119999999999999991111111111111111111111111111111111111119999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999991111111111111111119999999999999911111111111111111111111111111111111111111999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999991111111111111111111999999999999911111111111111111111111111111111111111111199999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999991111111111111111111199999999999991111111111111111111111111111111111111111119999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999991111111111111111111199999999999991111111111111111111111111111111111111111111999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999911111111111111111111199999999999999111111111111111111111111111111111111111111999999999999999999999999999999999
    9999999999999999999999999999999999911111199999999911111111111111111111199999999999999111111111111111111111111111111111111111111999999999999999999999999999999999
    9999999999999999999999999999999999111111111119999911111111111111111111199999999999999911111111111111111111111111111111111111111999999999999999999999999999999999
    9999999999999999999999999999999999111111111111999111111111111111111111199999999999999991111111111111111111111111111111111111111999999999999999999999999999999999
    9999999999999999999999999999999991111111111111111111111111111111111111199999999999999999111111111111111111111111111111111111119999999999999999999999999999999999
    9999999999999999999999999999999911111111111111111111111111111111111111199999999999999999911111111111111111111111111111111111119999999999999999999999999999999999
    9999999999999999999999999999999111111111111111111111111111111111111111999999999999999999991111111111111111111111111111111111119999999999999999999999999999999999
    9999999999999999999999999999999111111111111111111111111111111111111111999999999999999999999911111111111991111111111111111111199999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111111111111111111111111999999999999999999999999999999999999111111111111111111199999999999999999999999999999999999
    9999999999999999999999999999991111111111111111119991111111111111111119999999999999999999999999999999999999911111111111111111999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111199999911111111111111199999999999999999999999999999999999999991111111111111119999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111999999991111111111111199999999999999999999999999999999999999999111111111111199999999999999999999999999999999999999
    9999999999999999999999999999991111111111111119999999999111111111111999999999999999999999999999999999999999999991111111111999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111199999999999911111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111999999999999991111111199999999999999999999999999999999999999999999999999999999999999999999999999911119999999999999999
    9999999999999999999999999999991111111111119999999999999999111111999999999999999999999999999999999999999999999999999999999999999999999999999111111999999999999999
    9999999999999999999999999999991111111111119999999999999999911111999999999999999999999999999999999999999999999999999999999999999999999999991111111199999999999999
    9999999999999999999999999999999111111111199999999999999999991119999999999999999999999999999999999999999999999999999999999999999999999999991111111119999999999999
    9999999999999999999999999999999911111111199999999999999999991199999999999999999999999999999999999999999999999999999999999999999999999999911111111119999999999999
    9999999999999999999999999999999991111119999999999999999999991999999999999999999999999999999999999999999999999999999999999999999999999999111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111119999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111119999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111199999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111199999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911119999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
dragon = sprites.create(img`
    . f f f . . . . . . . . f f f . 
    . c b b c f . . . . . . . c f f 
    . . c b b c f . . . . . . c c f 
    . . c c c b f . . . . . . . f c 
    . . c c b b f f . . . . . f f c 
    . . c b b c b f c c . c c f f f 
    . . c b c c b f c c c c c f f f 
    . . . c c c b c b 3 c c 3 c f . 
    . . . c c c c b b 3 c b 3 b c . 
    . . . . c c b b b b b b b b c c 
    . . . c f b b b b 1 b b b 1 b c 
    . . c c f b b b b b b b b b b f 
    . . . . f b b b b c b b b c b f 
    . . . . f c b b b 1 f f f 1 f . 
    . . . . . f c b b b b b b f . . 
    . . . . . . f f f f f f f . . . 
    `, SpriteKind.Player)
// Set dragon starting position
dragon.setPosition(80, 60)
// Start with 3 hearts
info.setLife(3)
if (applesCollected == 200) {
    game.gameOver(true)
    game.setGameOverMessage(true, "YOU WIN!")
}
game.onUpdateInterval(2000, function () {
    apple = sprites.create(img`
        . . . . . . . e c 7 . . . . . . 
        . . . . e e e c 7 7 e e . . . . 
        . . c e e e e c 7 e 2 2 e e . . 
        . c e e e e e c 6 e e 2 2 2 e . 
        . c e e e 2 e c c 2 4 5 4 2 e . 
        c e e e 2 2 2 2 2 2 4 5 5 2 2 e 
        c e e 2 2 2 2 2 2 2 2 4 4 2 2 e 
        c e e 2 2 2 2 2 2 2 2 2 2 2 2 e 
        c e e 2 2 2 2 2 2 2 2 2 2 2 2 e 
        c e e 2 2 2 2 2 2 2 2 2 2 2 2 e 
        c e e 2 2 2 2 2 2 2 2 2 2 4 2 e 
        . e e e 2 2 2 2 2 2 2 2 2 4 e . 
        . 2 e e 2 2 2 2 2 2 2 2 4 2 e . 
        . . 2 e e 2 2 2 2 2 4 4 2 e . . 
        . . . 2 2 e e 4 4 4 2 e e . . . 
        . . . . . 2 2 e e e e . . . . . 
        `, SpriteKind.Food)
    // Random position for the apple
    apple.setPosition(randint(10, 150), randint(10, 110))
})
game.onUpdateInterval(20000, function () {
    num1 = randint(10, 100)
    num2 = randint(10, 100)
    // 0 = addition, 1 = subtraction
    operation = randint(0, 2)
    if (operation == 0) {
        correctAnswer = num1 + num2
        game.splash("Solve: " + num1 + " + " + num2)
    } else if (operation == 1) {
        correctAnswer = num1 - num2
        game.splash("Solve: " + num1 + " - " + num2)
    } else {
        correctAnswer = num1 * num2
        game.splash("Solve: " + num1 + "x" + num2)
    }
    // Ask the player for the answer (askForNumber is for numbers only)
    playerAnswer = game.askForNumber("Your answer:")
    // Check if the player's answer is correct
    if (playerAnswer == correctAnswer) {
        game.splash("Correct!")
    } else {
        game.splash("Wrong answer!")
        // Lose a heart for wrong answer
        info.changeLifeBy(-1)
    }
    // If the player has no hearts left, end the game
    if (info.life() <= 0) {
        game.splash("Game Over!")
        game.over(false)
    }
})
